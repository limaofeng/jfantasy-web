var request = (function() {

	window.contextPath = null;

	return {
		getContextPath : function() {
			if(!contextPath) {
				var pathName = document.location.pathname;
				var index = pathName.substr(1).indexOf("/");
				window.contextPath = pathName.substr(0, index + 1);
			}
			return window.contextPath;
		},
	
		getQueryString : function(){
			var url = document.location.href;
			return url.indexOf("#")==-1?url.substr(url.indexOf("?")+1):url.substr(url.indexOf("?")+1,url.indexOf("#"));
		}
	};
})();
var stopDefault = function(e, noBubbles){
	var evt = e || window.event;
	evt.preventDefault ? evt.preventDefault() : evt.returnValue = false;
	noBubbles && evt.stopPropagation ? evt.stopPropagation() : evt.cancelBubble = true;
	return false;
};
jQuery.extend({
	
	includePath : /[a-zA-Z]:$/.test(request.getContextPath())?'../':window.location.protocol+'//' + window.location.host + request.getContextPath() + '/',//WebContent/
	
	/**
	 * js 加载 Css 及 JavaScript
	 */
	include : function(file) {
		var files = typeof file == "string" ? [ file ] : file;
		for ( var i = 0; i < files.length; i++) {
			var name = files[i].replace(/^\s|\s$/g, "");
			var att = name.split('.');
			var ext = att[att.length - 1].toLowerCase();
			var isCSS = ext == "css";
			var tag = isCSS ? "link" : "script";
			var attr = isCSS ? " type='text/css' rel='stylesheet' ":" language='javascript' type='text/javascript' ";
			var link = (isCSS ? "href" : "src") + "='" + $.includePath + name +"'";
			if ($(tag + "[" + link + "]").length == 0)
				document.write("<" + tag + attr + link + " charset=\"utf-8\"" + (tag == "link" ? "/>" : ("></" + tag + ">")));
		}
	}

});

jQuery.include('static/js/fantasy/Fantasy.js');
jQuery.include('static/js/fantasy/style/fantasy.css');
jQuery.include('static/js/fantasy/String.js');
jQuery.include('static/js/fantasy/Array.js');
jQuery.include('static/js/fantasy/Date.js');
jQuery.include('static/js/fantasy/Object.js');
/***********************************************************\
 *			Fantasy.util									*
 *[描    述] JS 框架	公共包									*
 \***********************************************************/
jQuery.include('static/js/fantasy/Fantasy.util.jClass.js');
jQuery.include('static/js/fantasy/Fantasy.util.Object.js');
jQuery.include('static/js/fantasy/Fantasy.util.Class.js'); 
jQuery.include('static/js/fantasy/Fantasy.util.Observable.js'); 
jQuery.include('static/js/fantasy/Fantasy.data.Property.js'); 
jQuery.include('static/js/fantasy/Fantasy.util.Collection.js'); 
jQuery.include('static/js/fantasy/Fantasy.util.Map.js'); 
jQuery.include('static/js/fantasy/Fantasy.util.Proxy.js'); 
jQuery.include('static/js/fantasy/Fantasy.util.Invocation.js'); 
jQuery.include('static/js/fantasy/Fantasy.util.StringUtil.js'); 
jQuery.include('static/js/fantasy/Fantasy.util.ObjectUtil.js'); 
jQuery.include('static/js/fantasy/Fantasy.util.MathUtil.js'); 
jQuery.include('static/js/fantasy/Fantasy.util.DateUtil.js'); 
jQuery.include('static/js/fantasy/Fantasy.util.JSON.js');
jQuery.include('static/js/fantasy/Fantasy.util.Format.js');
jQuery.include('static/js/fantasy/Fantasy.util.Template.js');
jQuery.include('static/js/fantasy/Fantasy.util.Drag.js');
jQuery.include('static/js/fantasy/Fantasy.util.Resize.js');
jQuery.include('static/js/fantasy/Fantasy.util.Cache.js');
jQuery.include('static/js/fantasy/Fantasy.awt.ImgCropper.js');
jQuery.include('static/js/fantasy/Fantasy.state.Provider.js');
jQuery.include('static/js/fantasy/Fantasy.state.CookieProvider.js');
jQuery.include('static/js/fantasy/Fantasy.util.Cookie.js'); 
jQuery.include('static/js/fantasy/Fantasy.data.SortTypes.js');
jQuery.include('static/js/fantasy/Fantasy.data.Field.js');
jQuery.include('static/js/fantasy/Fantasy.Ajax.js');
jQuery.include('static/js/fantasy/Fantasy.awt.Field.js');
jQuery.include('static/js/fantasy/Fantasy.awt.Element.js');
jQuery.include('static/js/fantasy/Fantasy.awt.Template.js');
jQuery.include('static/js/fantasy/Fantasy.awt.SweetTemplate.js');
jQuery.include('static/js/fantasy/Fantasy.awt.View.js');
jQuery.include('static/js/fantasy/Fantasy.awt.Grid.js');
jQuery.include('static/js/fantasy/Fantasy.awt.Pager.js');
jQuery.include('static/js/fantasy/Fantasy.awt.Box.js');
jQuery.include('static/js/fantasy/Fantasy.awt.ConfirmBox.js');
jQuery.include('static/js/fantasy/Fantasy.awt.SelectMenu.js');
//jQuery.include('static/js/fantasy/Fantasy.awt.AutoComplete.js');
jQuery.include('static/js/fantasy/Fantasy.awt.Progress.js');
jQuery.include(['static/js/fantasy/Fantasy.awt.Node.js','static/js/fantasy/Fantasy.awt.Tree.js']);

jQuery.include('static/js/jquery/jquery.uniform.js');
jQuery.include('static/js/jquery/select2.min.js');

jQuery.include('static/js/jquery/jquery.form.js');

//js 模板插件
jQuery.include('static/js/jquery/sweet-jquery-plugin-v1.1.js');

//jQuery.include(['static/js/common/msgbox/msgbox.css','static/js/common/msgbox/msgbox.js']);

//为a, form标签提供简化ajax操作
jQuery.include('static/js/jquery/jquery.ajax.js');
//简化select级联操作
jQuery.include('static/js/jquery/jquery.select.js');

jQuery.include('static/js/fantasy/style/pageStyle.css');

jQuery.include(['static/js/jquery/jquery.util.js','static/js/jquery/jquery.selection.box.js','static/js/initialize.js']);

//jQuery.include(['static/js/common/upload/css/upload.css','static/js/common/upload/jquery.upload.js']);

//jQuery.include(['static/js/common/emailInput/css/emailInput.css','static/js/common/emailInput/jquery.email.js']);

//jQuery.include(['static/js/common/sly/jquery.sly.js','static/js/jquery/jquery.easing-1.3.min.js','static/js/common/sly/css/style.css']);

jQuery.include('static/js/config.js?'+Math.floor(Math.random() * 100));